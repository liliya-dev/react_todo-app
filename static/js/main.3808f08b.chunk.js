(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{11:function(e,t,o){e.exports=o(20)},16:function(e,t,o){},17:function(e,t,o){},20:function(e,t,o){"use strict";o.r(t);var a=o(0),l=o.n(a),n=o(6),c=o.n(n),i=(o(16),o(17),o(4)),d=o(3),s=o(2),r=o(7),u=o(8),m=o(10),p=o(9),h=o(1),f=o.n(h),b=(f.a.shape({value:f.a.string.isRequired,handleInputChange:f.a.string.isRequired,addTodo:f.a.func.isRequired}),f.a.shape({allSelected:f.a.bool.isRequired,selectAll:f.a.func.isRequired}),f.a.shape({hideActive:f.a.bool.isRequired,hideCompleted:f.a.bool.isRequired,completed:f.a.bool.isRequired,title:f.a.string.isRequired,onComplete:f.a.func.isRequired}),f.a.shape({todoList:f.a.arrayOf(f.a.string).isRequired,transformedTodo:f.a.string.isRequired,putChanges:f.a.func.isRequired,startEditing:f.a.func.isRequired,onComplete:f.a.func.isRequired,deleteTodo:f.a.func.isRequired,allSelected:f.a.bool.isRequired,hideActive:f.a.bool.isRequired,hideCompleted:f.a.bool.isRequired,completedTodos:f.a.objectOf(f.a.bool).isRequired}),f.a.shape({todoList:f.a.arrayOf(f.a.string).isRequired,visibleFooter:f.a.bool.isRequired,selectedButton:f.a.string.isRequired,completedTodos:f.a.objectOf(f.a.bool).isRequired,showAll:f.a.func.isRequired,showActive:f.a.func.isRequired,showCompleted:f.a.func.isRequired,deleteTodo:f.a.func.isRequired,clear:f.a.bool.isRequired}),function(e){var t=e.addTodo,o=e.handleInputChange,a=e.value,n=e.todoList,c=a.trim();return l.a.createElement("header",{className:"header"},l.a.createElement("h1",null,"todos"),l.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",onKeyUp:function(e){13===e.keyCode&&!n.includes(c)&&c.length&&t(!0)},onChange:o,value:a}))}),v=function(e){var t=e.selectAll,o=e.allSelected;return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:t,checked:o}),l.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"))},g=function(e){var t=e.selected,o=e.hideActive,a=e.hideCompleted,n=e.completed,c=e.title,d=e.onComplete,r=e.deleteTodo,u=e.startEditing,m=e.todoList,p=e.completedTodos,h=t||n?"line-through":"none",f=n&&a||!n&&o?"none":"block";return l.a.createElement("li",{style:{display:f}},l.a.createElement("div",{className:"view"},l.a.createElement("input",{checked:n,type:"checkbox",className:"toggle",id:c,onChange:function(e){var t=e.target.checked,o=e.target.nextElementSibling.textContent,a=Object(s.a)(Object(s.a)({},p),{},Object(i.a)({},o,t));d(a)}}),l.a.createElement("label",{htmlFor:c,style:{textDecoration:h}},c),l.a.createElement("button",{type:"button",className:"destroy",onClick:function(e){var t=e.target.previousElementSibling.textContent,o=m.filter((function(e){return e!==t})),a=!!o.length,l=Object(s.a)({},p);delete l[t],r(o,a,l)}}),l.a.createElement("button",{type:"button",className:"edit_btn",onClick:function(){return u(c)},value:"edit"})))},C=function(e){var t=e.transformedTodo,o=e.putChanges,a=e.startEditing,n=e.allSelected,c=e.hideActive,i=e.hideCompleted,r=e.onComplete,u=e.deleteTodo,m=e.completedTodos,p=e.todoList,h=function(e,t,a){var l=e.keyCode,n=e.target.value.trim();if(27===l||n===t&&(13===l||a))o("cancel");else if((13===l||a)&&!p.includes(n))if(n){if(n){var c=p.findIndex((function(e){return e===t})),i=Object(d.a)(p);i.splice(c,1,n);var r=Object(s.a)({},m),u=m[t];delete r[t],o("put",i,r,n,u)}}else o("cancel")};return l.a.createElement("ul",{className:"todo-list"},p.map((function(e){var o=e===t?l.a.createElement("input",{ref:function(e){return e&&e.focus()},onKeyUp:function(t){return h(t,e)},onBlur:function(t){return h(t,e,!0)},defaultValue:e,type:"text",className:"edition",id:"".concat(e,"_edit")}):l.a.createElement(l.a.Fragment,null);return l.a.createElement("div",{className:"wrap_li",key:e},l.a.createElement(g,{startEditing:a,selected:n,hideActive:c,hideCompleted:i,key:e,completed:m[e],title:e,onComplete:r,deleteTodo:u,todoList:p,completedTodos:m}),o)})))},E=function(e){var t=e.selectedButton,o=e.showAll,a=e.showActive,n=e.showCompleted,c=e.clear,i=e.completedTodos,d=e.todoList,r=Object.values(i).filter((function(e){return!0===e})).length;return l.a.createElement("section",null,l.a.createElement("footer",{className:"footer"},l.a.createElement("span",{className:"todo-count"},d.length-r,"\xa0 items left"),l.a.createElement("ul",{className:"filters"},l.a.createElement("li",null,l.a.createElement("a",{href:"#/",className:"all"===t?"selected":"non-selected",onClick:o},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/active",className:"active"===t?"selected":"non-selected",onClick:a},"Active")),l.a.createElement("li",null,l.a.createElement("a",{href:"#/completed",onClick:n,className:"completed"===t?"selected":"non-selected"},"Completed"))),l.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){var e=Object(s.a)({},i),t=d.filter((function(e){return!0===i[e]})),o=d.filter((function(e){return!t.includes(e)}));t.forEach((function(t){delete e[t]})),c(o,e)}},"Clear completed")))},S=function(e){Object(m.a)(o,e);var t=Object(p.a)(o);function o(){var e;Object(r.a)(this,o);for(var a=arguments.length,l=new Array(a),n=0;n<a;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))).state={inputValue:"",todoList:[],completedTodos:{},hideCompleted:!1,hideActive:!1,allSelected:!1,selected:"all",transformedTodo:""},e.onComplete=function(t){Object.values(t).every((function(e){return!0===e}))?e.selectAll():e.state.allSelected&&e.setState((function(){return{allSelected:!1}})),e.setState((function(){return{completedTodos:Object(s.a)({},t)}}))},e.deleteTodo=function(t,o,a){Object.values(a).every((function(e){return!0===e}))&&!e.state.allSelected&&e.selectAll(),e.setState((function(e){return{todoList:Object(d.a)(t),allSelected:!!t.length&&e.allSelected,completedTodos:Object(s.a)({},a)}}))},e.addNewTodo=function(t){t&&e.setState((function(e){return{todoList:e.todoList.includes(e.inputValue.trim())?Object(d.a)(e.todoList):[].concat(Object(d.a)(e.todoList),[e.inputValue.trim()]),inputValue:"",completedTodos:Object(s.a)(Object(s.a)({},e.completedTodos),{},Object(i.a)({},e.inputValue,!1)),allSelected:!1}}))},e.clear=function(t,o){e.setState((function(){return{todoList:Object(d.a)(t),completedTodos:Object(s.a)({},o),allSelected:!1}}))},e.showActive=function(){e.setState((function(){return{selected:"active",hideCompleted:!0,hideActive:!1}}))},e.showAll=function(){e.setState((function(){return{hideCompleted:!1,hideActive:!1,selected:"all"}}))},e.showCompleted=function(){e.setState((function(){return{hideCompleted:!1,hideActive:!0,selected:"completed"}}))},e.selectAll=function(){var t={};e.state.todoList.forEach((function(o){t[o]=!e.state.allSelected})),e.setState((function(e){return{allSelected:!e.allSelected,completedTodos:Object(s.a)({},t)}}))},e.handleInputChange=function(t){var o=t.target.value;e.setState((function(){return{inputValue:o}}))},e.startEditing=function(t){e.setState((function(){return{transformedTodo:t}}))},e.putChanges=function(t,o,a,l,n){"put"===t?e.setState((function(){return{todoList:Object(d.a)(o),completedTodos:Object(s.a)(Object(s.a)({},a),{},Object(i.a)({},l,n))}})):e.setState((function(e){return{todoList:e.todoList,transformedTodo:""}}))},e}return Object(u.a)(o,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("todoApp"));e&&this.setState(Object(s.a)({},e))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("todoApp",JSON.stringify(this.state))}},{key:"render",value:function(){var e=this.state,t=e.inputValue,o=e.todoList,a=e.completedTodos,n=e.hideCompleted,c=e.hideActive,i=e.allSelected,d=e.selected,s=e.transformedTodo;return l.a.createElement("section",{className:"todoapp"},l.a.createElement(b,{todoList:o,addTodo:this.addNewTodo,handleInputChange:this.handleInputChange,value:t}),l.a.createElement("section",{className:"main"},l.a.createElement(v,{selectAll:this.selectAll,allSelected:i}),l.a.createElement(C,{todoList:o,transformedTodo:s,putChanges:this.putChanges,startEditing:this.startEditing,allSelected:i,hideActive:c,hideCompleted:n,onComplete:this.onComplete,deleteTodo:this.deleteTodo,completedTodos:a})),o.length?l.a.createElement(E,{todoList:o,completedTodos:a,selectedButton:d,showAll:this.showAll,showActive:this.showActive,showCompleted:this.showCompleted,clear:this.clear}):l.a.createElement(l.a.Fragment,null))}}]),o}(l.a.Component);c.a.render(l.a.createElement(S,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.3808f08b.chunk.js.map